<html>

<body lang=EN-CA>

<div class=WordSection1>

<div style='border:none;border-bottom:solid #7F7F7F 1.0pt;padding:0in 0in 1.0pt 0in'>

<h2><a name="_Toc78442930">SubModel</a></h2>

</div>

<p class=Main>The SubModel object is the basis for the implementation of
sub-models in JaamSim.  The components of SubModel are displayed in a Region
that is created as part of the SubModel object.  A component is added to the
SubModel by dragging and dropping it on top of its Region or by copying and pasting
an existing object on top of the Region.</p>

<p class=Main>A component has both a local name with the context of its
SubModel as well as a global name.  For example, a component with the local
name <span class=codeChar><span style='font-size:9.0pt'>Server1</span></span>
within <span class=codeChar><span style='font-size:9.0pt'>SubModelA</span></span>
has a global name of <span class=codeChar><span style='font-size:9.0pt'>SubModelA.Server1</span></span>. 
The SubModel that contains a component is called the parent SubModel of the
component.</p>

<p class=Main>The keyword <span class=codeChar><span style='font-size:9.0pt'>'sub'</span></span>
in an expression refers to the parent SubModel.  It is equivalent to entering <span
class=codeChar><span style='font-size:9.0pt'>'this.parent'</span></span>.</p>

<p class=Main>A SubModel can contain another SubModel as a component.  For example,
if <span class=codeChar><span style='font-size:9.0pt'>Server1</span></span> is
component of <span class=codeChar><span style='font-size:9.0pt'>SubModelA</span></span>
which in turn is a component of <span class=codeChar><span style='font-size:
9.0pt'>SubModelB</span></span>, then the global name for Server1 is <span
class=codeChar><span style='font-size:9.0pt'>SubModelB.SubModelA.Server1</span></span>.</p>

<p class=Main>A SubModel's Region can be displayed or hidden temporarily using
the 'Show SubModels' button, or it can be displayed or hidden permanently using
the 'Show Components' item in its context menu (right click).</p>

<p class=Main>A SubModel can receive entities as part of a process flow type
model or it can operate independently.   A SubModel uses its SubModelStart and
SubModelEnd components specify the entry and exit points for entities that
arrive to and depart from the SubModel.  An entity arriving to a SubModel is
directed automatically to its SubModelStart component.  An entity arriving to a
SubModelEnd component is directed automatically back to the parent SubModel and
from there to the object specified by its <span class=KeywordChar>NextComponent</span>
input.  An entity can be sent directly to any other object by providing an
input to the <span class=KeywordChar>NextComponent</span> input to the
SubModelEnd object.  A SubModel that receives entities must have a single
SubModelStart object as a component, but can have multiple SubModelEnd
components.</p>

<p class=Main>When a SubModel is created, it automatically appears in the Model
Builder under the 'Pre-built SubModels' heading and can be dragged and dropped
in the same way as any other object in the Model Builder.  However, when a
SubModel is dragged and dropped, a new type of object called a 'SubModelClone'
is created.  This object behaves in the same way as a copy of the SubModel, but
has the important additional property that it can be updated to be consistent
with any changes that have been made to the original ('prototype') SubModel. 
The update is performed automatically when a model is started or it can be
performed manually by selecting 'Update Clones' from the context menu
(right-click) for the original SubModel.</p>

<p class=Main>A SubModel object can also be copied in the same way as other
objects.  The SubModel’s components and their inputs are copied along with the
SubModel.  Inputs to SubModel components that reference the parent SubModel or
another component of the SubModel are changed automatically to refer to the
copied SubModel or SubModel component.  <span class=KeywordChar>RandomSeed</span>
inputs to probability distributions are changed to the first unused integer
value.  However, unlike a SubModelClone, a copied SubModel must be updated
manually if the original SubModel is modified.</p>

<p class=Main>The <span class=KeywordChar>KeywordList</span> input provides a
way to define new inputs for a SubModel.  Each of these inputs accepts an
expression that returns a number with or without units.  An output with the
same name as the input is created to return the present value for the input
expression.  This feature allows a component of the SubModel to obtain all its
inputs through its parent SubModel or from other components of the SubModel,
thereby avoiding any references to objects outside of the SubModel.  The inputs
and outputs created by the <span class=KeywordChar>KeywordList</span> input are
retained by any SubModelClones that were created by dragging and dropping the
SubModel.</p>

<p class=MsoCaption>SubModel Inputs</p>

<table class=SimTable border=1 cellspacing=0 cellpadding=0 width=658
 style='width:493.6pt;margin-left:7.95pt;border-collapse:collapse;border:none'>
 <tr style='page-break-inside:avoid'>
  <td width=205 valign=top style='width:153.9pt;border:solid #A6A6A6 1.0pt;
  background:#BFBFBF;padding:0in 5.4pt 0in 5.4pt'>
  <p class=TableHeading><b>Keyword</b></p>
  </td>
  <td width=453 valign=top style='width:339.7pt;border:solid #A6A6A6 1.0pt;
  border-left:none;background:#BFBFBF;padding:0in 5.4pt 0in 5.4pt'>
  <p class=TableHeading><b>Description</b></p>
  </td>
 </tr>
 <tr style='page-break-inside:avoid'>
  <td width=205 valign=top style='width:153.9pt;border:solid #A6A6A6 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=TableText-Paragraph style='page-break-after:avoid'><b><u>Key Inputs</u></b></p>
  </td>
  <td width=453 valign=top style='width:339.7pt;border-top:none;border-left:
  none;border-bottom:solid #A6A6A6 1.0pt;border-right:solid #A6A6A6 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=TableText-Paragraph>&nbsp;</p>
  </td>
 </tr>
 <tr style='page-break-inside:avoid'>
  <td width=205 valign=top style='width:153.9pt;border:solid #A6A6A6 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=TableText-Paragraph>Description</p>
  </td>
  <td width=453 valign=top style='width:339.7pt;border-top:none;border-left:
  none;border-bottom:solid #A6A6A6 1.0pt;border-right:solid #A6A6A6 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=TableText-Paragraph>A free-form string describing the object.</p>
  </td>
 </tr>
 <tr style='page-break-inside:avoid'>
  <td width=205 valign=top style='width:153.9pt;border:solid #A6A6A6 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=TableText-Paragraph>NextComponent</p>
  </td>
  <td width=453 valign=top style='width:339.7pt;border-top:none;border-left:
  none;border-bottom:solid #A6A6A6 1.0pt;border-right:solid #A6A6A6 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=TableText-Paragraph>The next object to which the processed entity is
  passed.</p>
  </td>
 </tr>
 <tr style='page-break-inside:avoid'>
  <td width=205 valign=top style='width:153.9pt;border:solid #A6A6A6 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=TableText-Paragraph>User-defined inputs</p>
  </td>
  <td width=453 valign=top style='width:339.7pt;border-top:none;border-left:
  none;border-bottom:solid #A6A6A6 1.0pt;border-right:solid #A6A6A6 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=TableText-Paragraph>Inputs defined by the user through the
  KeywordList input.</p>
  </td>
 </tr>
 <tr style='page-break-inside:avoid'>
  <td width=205 valign=top style='width:153.9pt;border:solid #A6A6A6 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=TableText-Paragraph style='page-break-after:avoid'><b><u>Options</u></b></p>
  </td>
  <td width=453 valign=top style='width:339.7pt;border-top:none;border-left:
  none;border-bottom:solid #A6A6A6 1.0pt;border-right:solid #A6A6A6 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=TableText-Paragraph>&nbsp;</p>
  </td>
 </tr>
 <tr style='page-break-inside:avoid'>
  <td width=205 valign=top style='width:153.9pt;border:solid #A6A6A6 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=TableText-Par>AttributeDefinitionList, CustomOutputList</p>
  </td>
  <td width=453 valign=top style='width:339.7pt;border-top:none;border-left:
  none;border-bottom:solid #A6A6A6 1.0pt;border-right:solid #A6A6A6 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=TableText-Paragraph>See Section 6.2.</p>
  </td>
 </tr>
 <tr style='page-break-inside:avoid'>
  <td width=205 valign=top style='width:153.9pt;border:solid #A6A6A6 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=TableText-Paragraph>KeywordList</p>
  </td>
  <td width=453 valign=top style='width:339.7pt;border-top:none;border-left:
  none;border-bottom:solid #A6A6A6 1.0pt;border-right:solid #A6A6A6 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=TableText-Paragraph>Defines new keywords for the sub-model and
  creates new outputs with the same names.  This allows the components of a sub-model
  to receive all their inputs from either the parent sub-model or from other
  components.</p>
  </td>
 </tr>
 <tr style='page-break-inside:avoid'>
  <td width=205 valign=top style='width:153.9pt;border:solid #A6A6A6 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=TableText-Paragraph style='page-break-after:avoid'><b><u>Graphics</u></b></p>
  </td>
  <td width=453 valign=top style='width:339.7pt;border-top:none;border-left:
  none;border-bottom:solid #A6A6A6 1.0pt;border-right:solid #A6A6A6 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=TableText-Paragraph>&nbsp;</p>
  </td>
 </tr>
 <tr style='page-break-inside:avoid'>
  <td width=205 valign=top style='width:153.9pt;border:solid #A6A6A6 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=TableText-Par>Position, Alignment, Size, Orientation, Region,
  RelativeEntity, DisplayModel, Show, Movable, VisibleViews, DrawRange</p>
  </td>
  <td width=453 valign=top style='width:339.7pt;border-top:none;border-left:
  none;border-bottom:solid #A6A6A6 1.0pt;border-right:solid #A6A6A6 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=TableText-Paragraph>See Section 11.1.</p>
  </td>
 </tr>
</table>

<p class=MsoCaption>SubModel Outputs</p>

<table class=SimTable border=1 cellspacing=0 cellpadding=0 width=658
 style='width:493.6pt;margin-left:7.95pt;border-collapse:collapse;border:none'>
 <thead>
  <tr style='page-break-inside:avoid'>
   <td width=205 valign=top style='width:153.9pt;border:solid #A6A6A6 1.0pt;
   background:#BFBFBF;padding:0in 5.4pt 0in 5.4pt'>
   <p class=TableHeading><b>Output Name</b></p>
   </td>
   <td width=453 valign=top style='width:339.7pt;border:solid #A6A6A6 1.0pt;
   border-left:none;background:#BFBFBF;padding:0in 5.4pt 0in 5.4pt'>
   <p class=TableHeading><b>Description</b></p>
   </td>
  </tr>
 </thead>
 <tr style='page-break-inside:avoid'>
  <td width=205 valign=top style='width:153.9pt;border:solid #A6A6A6 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=TableText-Paragraph style='page-break-after:avoid'><b><u>Entity and
  DisplayEntity</u></b></p>
  </td>
  <td width=453 valign=top style='width:339.7pt;border-top:none;border-left:
  none;border-bottom:solid #A6A6A6 1.0pt;border-right:solid #A6A6A6 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=TableText-Paragraph>&nbsp;</p>
  </td>
 </tr>
 <tr style='page-break-inside:avoid'>
  <td width=205 valign=top style='width:153.9pt;border:solid #A6A6A6 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=TableText-Par>Name, ObjectType, SimTime, Parent, Position, Size,
  Orientation, Alignment, GraphicalLength, ObserverList, NextList,
  PreviousList, EntityReferenceList</p>
  </td>
  <td width=453 valign=top style='width:339.7pt;border-top:none;border-left:
  none;border-bottom:solid #A6A6A6 1.0pt;border-right:solid #A6A6A6 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=TableText-Paragraph>See Section 11.1.</p>
  </td>
 </tr>
 <tr style='page-break-inside:avoid'>
  <td width=205 valign=top style='width:153.9pt;border:solid #A6A6A6 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=TableText-Paragraph style='page-break-after:avoid'><b><u>StateEntity</u></b></p>
  </td>
  <td width=453 valign=top style='width:339.7pt;border-top:none;border-left:
  none;border-bottom:solid #A6A6A6 1.0pt;border-right:solid #A6A6A6 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=TableText-Paragraph>&nbsp;</p>
  </td>
 </tr>
 <tr style='page-break-inside:avoid'>
  <td width=205 valign=top style='width:153.9pt;border:solid #A6A6A6 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=TableText-Par>State, WorkingState, WorkingTime, StateTimes,
  TotalTime</p>
  </td>
  <td width=453 valign=top style='width:339.7pt;border-top:none;border-left:
  none;border-bottom:solid #A6A6A6 1.0pt;border-right:solid #A6A6A6 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=TableText-Paragraph>See Section 10.3.</p>
  </td>
 </tr>
 <tr style='page-break-inside:avoid'>
  <td width=205 valign=top style='width:153.9pt;border:solid #A6A6A6 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=TableText-Paragraph style='page-break-after:avoid'><b><u>LinkedComponent</u></b></p>
  </td>
  <td width=453 valign=top style='width:339.7pt;border-top:none;border-left:
  none;border-bottom:solid #A6A6A6 1.0pt;border-right:solid #A6A6A6 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=TableText-Paragraph>&nbsp;</p>
  </td>
 </tr>
 <tr style='page-break-inside:avoid'>
  <td width=205 valign=top style='width:153.9pt;border:solid #A6A6A6 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=TableText-Par>obj, NumberAdded, NumberProcessed, NumberInProgress,
  ProcessingRate, ReleaseTime</p>
  </td>
  <td width=453 valign=top style='width:339.7pt;border-top:none;border-left:
  none;border-bottom:solid #A6A6A6 1.0pt;border-right:solid #A6A6A6 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=TableText-Paragraph>See Section 16.</p>
  </td>
 </tr>
 <tr style='page-break-inside:avoid'>
  <td width=205 valign=top style='width:153.9pt;border:solid #A6A6A6 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=TableText-Paragraph style='page-break-after:avoid'><b><u>SubModel</u></b></p>
  </td>
  <td width=453 valign=top style='width:339.7pt;border-top:none;border-left:
  none;border-bottom:solid #A6A6A6 1.0pt;border-right:solid #A6A6A6 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=TableText-Paragraph>&nbsp;</p>
  </td>
 </tr>
 <tr style='page-break-inside:avoid'>
  <td width=205 valign=top style='width:153.9pt;border:solid #A6A6A6 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=TableText-Paragraph>User-defined outputs</p>
  </td>
  <td width=453 valign=top style='width:339.7pt;border-top:none;border-left:
  none;border-bottom:solid #A6A6A6 1.0pt;border-right:solid #A6A6A6 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=TableText-Paragraph>Outputs defined by the user through the <span
  class=KeywordChar>KeywordList</span> input.</p>
  </td>
 </tr>
 <tr style='page-break-inside:avoid'>
  <td width=205 valign=top style='width:153.9pt;border:solid #A6A6A6 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=TableText-Paragraph>User-defined attributes and custom outputs</p>
  </td>
  <td width=453 valign=top style='width:339.7pt;border-top:none;border-left:
  none;border-bottom:solid #A6A6A6 1.0pt;border-right:solid #A6A6A6 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=TableText-Paragraph>As defined by the <span class=KeywordChar>AttributeDefinitionList</span>
  and <span class=KeywordChar>CustomOutputList</span> inputs.</p>
  </td>
 </tr>
</table>

<p class=Main>&nbsp;</p>

</div>

</body>

</html>
